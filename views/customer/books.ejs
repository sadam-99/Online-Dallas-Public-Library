<%-include('../partials/header.html')%>
    <link rel="stylesheet" href="/../../css/customer.css">
    <title>Books</title>
    <script src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
    </head>
<!-- Bootstrap -->
<!-- <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"> -->
    <body>

        <%-include('partials/navbar.html')%>
        <div class="container-fluid bg-image">
            <div class="row">
                <%-include('partials/sidebar.html')%>
                <div class="col-md-10 content">
                    <div class="row">
                        <div class="col-md-11 bg-image">
                            <p class="display-4" style="text-align:center"><b>Books</b></p>
                            <form id="books" class="" method="post">
                                
								<div class="input-group mb-5 search-bar">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" for="inputGroupSelect01">Search Books</label>
                                    </div>
                                    <select class="custom-select dropbar" id="inputGroupSelect01" name="searchBy">
                                            <option selected>By...</option>
                                            <option value="genre">Genre</option>
                                            <option value="title">Title</option>
                                            <option value="author">Author</option>
                                            <option value="publisher">Publisher</option>
                                            <option value="edition">Edition</option>
                                            <option value="isbn">ISBN</option>
                                            <option value="pages">Pages</option>
                                        </select>
                                    <div class="form-inline">

                                        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="word">
                                        <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
                                    </div>
                               
								
								
								
								<div class="form-group form-check bg-image">
                            <table class="table table-striped table-light table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">ID</th>
                                        <th scope = "col"> Picture </th> 
                                        <th scope="col">Genre</th>
                                        <th scope="col">Title</th>
                                        <th scope="col">Author</th>
                                        <th scope="col">Publisher</th>
                                        <th scope="col">Edition</th>
                                        <th scope="col">ISBN</th>
                                        <th scope="col">Select Book</th>
                                        <!-- <th scope="col">Action</th> -->
                                    </tr>
                                </thead>
                                <tbody>
                                    
                                            <% console.log("respose length", res.length) %>
                                             <% for(var i=0; i< res.length; i++)
                                             { %>
                                                <% var val = res[i].book_id %>
                                                <tr>
                                                    <th scope="row">
                                                        <%=res[i].book_id%>
                                                    </th>
                                                    <td>
                                                        <img class="books_display" src="../../images/books/<%=res[i].image%>" alt= "">
                                                   </td>
                                                    <td>
                                                        <%=res[i].genre%>
                                                    </td>
                                                    <td>
                                                        <%=res[i].title%>
                                                    </td>
                                                    <td>
                                                        <%=res[i].author%>
                                                    </td>
                                                    <td>
                                                        <%=res[i].publisher%>
                                                    </td>
                                                    <td>
                                                        <%=res[i].edition%>
                                                    </td>
                                                    <td>
                                                        <%=res[i].isbn%>
                                                    </td>
                                                    <td>
                                                        
                                                        <input type="checkbox" id ="box"  class="form-control" value = <%=val%> name = "box" >
                                                        
                                                    </td>
                                                    
                                                
                                                </tr>
                                            <% } %>
                                
                                        

                                    </tbody>
								</div>
								
								
                                    <hr>
                                    <div>
                                        <button type="submit" id ="myBtn" class="btn btn-primary" value="myBtn">Add to Cart</button>
                                        <br>
                                    </div>
                            </div>
								 <div class="">
                                    <% for(var i=0; i< errs.length; i++){ %>
                                        <%= errs[i].message; %>
                                        <br>
                                    <% } %>
                                    <% for(var i=0; i< success.length; i++){ %>
                                        <%= success[i].message; %>
                                        <br>
                                    <% } %>
                                </div>
                            </form>
                            <script >
                                jQuery(document).ready(function(){
                                $('#books').submit(function (e) {
                                        jQuery(':button').click(function () {
                                        if (this.id == 'myBtn' && (document.body.contains(document.getElementById('box')))) {
                                            var selected = new Array();
                                            $("input:checkbox[name=box]:checked").each(function(){
                                                    selected.push($(this).val());
                                                });
                                            if(selected.length == 0)
                                                alert('this button was clicked');
                                                }
                                            });
                                        })
                                            });	
                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <nav aria-label="...">
            <ul class="pagination pagination-sm justify-content-center" >
            
            <li class="page-item"><a class="page-link" href="/customer/bookspage1">1</a> </li>
              <li class="page-item"><a class="page-link" href="/customer/bookspage2">2</a></li>
              <li class="page-item"><a class="page-link" href="/customer/bookspage3">3</a></li>
              <li class="page-item"><a class="page-link" href="/customer/bookspage4">4</a></li>
              <li class="page-item"><a class="page-link" href="/customer/bookspage5">5</a></li>
              <li class="page-item"><a class="page-link" href="/customer/bookspage6">6</a></li>
            </ul>
          </nav>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> -->

<!-- <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script> -->
<%-include('../partials/footer.html')%>

